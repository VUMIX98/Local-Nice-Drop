<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local-Nice-Drop</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">
                <h1>ü™Ç Local-Nice-Drop</h1>
                <p class="tagline">–ö–∏–¥–∞–π —Ñ–∞–π–ª—ã –±—ã—Å—Ç—Ä–æ –∏ –ø—Ä–æ—Å—Ç–æ!</p>
            </div>
        </div>
        
        <div class="panel">
            <div class="section">
                <h3>üÜî –ú–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:</h3>
                <div class="user-id">
                    <div class="device-name-display">
                        <strong id="currentDeviceName">–ú–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä</strong>
                        <div class="device-id">ID: <span id="myId">–ó–∞–≥—Ä—É–∑–∫–∞...</span></div>
                    </div>
                    <div class="id-buttons">
                        <button onclick="copyId()" class="copy-btn">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å ID</button>
                        <button onclick="changeDeviceName()" class="change-btn">‚úèÔ∏è –°–º–µ–Ω–∏—Ç—å –∏–º—è</button>
                    </div>
                </div>
                <input type="text" id="deviceNameInput" class="device-name-input" 
                       placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞" value="–ú–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä" style="display: none;">
                <button onclick="discoverPeers()" class="discover-btn">
                    üîç –ù–∞–π—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Ä—è–¥–æ–º
                </button>
            </div>

            <div class="section">
                <h3>üîó –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è:</h3>
                <div id="connectionStatus" class="connection-status">
                    <div class="status-item">
                        <span>–°—Ç–∞—Ç—É—Å: </span>
                        <span id="statusText" class="status-offline">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω</span>
                    </div>
                    <div id="connectedPeer" class="connected-peer hidden">
                        <span>–ü–æ–¥–∫–ª—é—á–µ–Ω –∫: </span>
                        <strong id="connectedPeerId"></strong>
                    </div>
                </div>
            </div>

            <div class="section">
                <h3>üì± –î–æ—Å—Ç—É–ø–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:</h3>
                <div id="peersList" class="peers-list">
                    <div class="empty-state">–ù–∞–∂–º–∏ "–ù–∞–π—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞" —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∫—Ç–æ –æ–Ω–ª–∞–π–Ω</div>
                </div>
            </div>

            <div class="section">
                <h3>üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª:</h3>
                <div class="file-upload">
                    <input type="file" id="fileInput" class="file-input">
                    <label for="fileInput" class="file-label">
                        <div class="upload-icon">üìÅ</div>
                        <div class="upload-text">–í—ã–±–µ—Ä–∏ —Ñ–∞–π–ª –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞</div>
                        <div class="upload-hint">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∞–π–ª–æ–≤ –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞</div>
                    </label>
                </div>
                <button onclick="sendFile()" disabled id="sendBtn" class="send-btn">
                    ‚è≥ –í—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ —Ñ–∞–π–ª
                </button>
                <div id="fileInfo" class="file-info"></div>
            </div>

            <div class="section">
                <h3>üì• –í—Ö–æ–¥—è—â–∏–µ —Ñ–∞–π–ª—ã:</h3>
                <div id="incomingFiles" class="incoming-files">
                    <div class="empty-state">–ó–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è —Ñ–∞–π–ª—ã –æ—Ç –¥—Ä—É–≥–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤</div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>ü™Ç <strong>Nice-Drop</strong> - –ü—Ä–æ—Å—Ç–æ –∫–∏–Ω—å –∏ –≤—Å—ë! üéØ</p>
        </div>
    </div>

    <script src="/static/app.js"></script>

    <style>
    @keyframes slideInRight {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }

    .device-name-display {
        flex: 1;
        text-align: center;
    }

    .device-name-display strong {
        font-size: 1.2em;
        color: #2c3e50;
        display: block;
        margin-bottom: 5px;
    }

    .device-id {
        font-size: 0.9em;
        color: #7f8c8d;
    }

    .device-name-input {
        width: 100%;
        padding: 10px;
        margin: 10px 0;
        border: 2px solid #bdc3c7;
        border-radius: 8px;
        font-size: 1em;
    }

    .peer-details {
        display: flex;
        flex-direction: column;
    }

    .peer-name {
        font-weight: bold;
        color: #2c3e50;
        font-size: 1.1em;
    }

    .peer-status {
        font-size: 0.8em;
        color: #1abc9c;
        font-weight: 500;
    }

    .file-label.dragover {
        border-color: #667eea;
        background: #f8f9ff;
        transform: scale(1.02);
    }

    .notification {
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 15px 20px;
        background: #1abc9c;
        color: white;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        z-index: 1000;
        animation: slideInRight 0.3s ease;
        font-weight: 500;
    }

    .notification.error {
        background: #e74c3c;
    }

    .notification.info {
        background: #3498db;
    }

    .notification.success {
        background: #1abc9c;
    }

    .file-transfer {
        padding: 15px;
        margin: 10px 0;
        background: #e8f6f3;
        border-left: 4px solid #1abc9c;
        border-radius: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        animation: slideInRight 0.3s ease;
    }

    .file-transfer.progress {
        background: #fff3cd;
        border-left: 4px solid #ffc107;
    }

    .file-transfer .file-details {
        flex: 1;
    }

    .file-transfer .file-details strong {
        display: block;
        margin-bottom: 5px;
        color: #2c3e50;
    }

    .progress-bar {
        width: 100%;
        height: 6px;
        background: #e9ecef;
        border-radius: 3px;
        margin-top: 8px;
        overflow: hidden;
    }

    .progress-fill {
        height: 100%;
        background: #1abc9c;
        transition: width 0.3s ease;
    }

    .progress-text {
        font-weight: bold;
        color: #2c3e50;
    }

    .hidden {
        display: none !important;
    }

    .peer-item.selected {
        border-color: #667eea;
        background: rgba(102, 126, 234, 0.1);
    }
    </style>
</body>
</html>